<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Coleção de animas</title>
</head>
<body>
    <h1>Animais - Características e Curiosidades</h1>
    <form name="formulario">
        <table>
            <tr>
                <td>Animal: <input type="text" name="nome"></td>
            </tr>
            <tr>
                <td>Altura: <input type="number" step="any" min="0" name="altura"></td>
            </tr>
            <tr>
                <td>Peso: <input type="number" step="any" min="0" name="peso"></td>
            </tr>
            <tr>
                <td>Velocidade: <input type="number" step="any" min="0" name="velocidade"></td>
            </tr>
            <tr>
                <td>Idade Máxima: <input type="number" step="any" min="0" name="idadeMax"></td>
            </tr>
            <tr>
                <td><input type="submit" value="Inserir"></td>
            </tr>
        </table>
    </form>
    
    <table> 
        <thead>
            <tr>
                <td>Animal</td>
                <td>Altura</td>
                <td>Peso</td>
                <td>Velocidade</td>
                <td>Idade Máxima</td>
            </tr>
        </thead>
        <tbody></tbody>
        <tfoot>
            <tr>
                <td>Médias:</td>
                <td id="mAltura"></td>
                <td id="mPeso"></td>
                <td id="mVelocidade"></td>
                <td id="mIdademMax"></td>
            </tr>
        </tfoot>
    </table>

    <ol type="i">
        <li>Mais alto: <span id="alto"></span></li>
        <li>Mais pesado: <span id="pesado"></span></li>
        <li>Mais veloz: <span id="veloz"></span></li>
        <li>Mais longevo: <span id="longevo"></span></li>   
    </ol>

    <p>Animas acima da média do peso: <span id="acima"></span></p>
</body>


<script>
    document.forms.formulario.addEventListener("submit",addAnimal);
    vetorDeDados = [];
    var mAltura = 0;
    var mPeso = 0;
    var mVelocidade = 0;
    var mIdademMax = 0;
    var totalDeAnimais = 0;
   
    function addAnimal(e){
        e.preventDefault();
         //Referências do formulario
        var nome = document.forms.formulario.nome.value;
        var altura = document.forms.formulario.altura.value;
        var peso = document.forms.formulario.peso.value;
        var velocidade = document.forms.formulario.velocidade.value;
        var idadeMax = document.forms.formulario.idadeMax.value;

        //Referencias da tabela
        var tbody = document.getElementsByTagName("tbody")[1];
        var tdAltura = document.getElementById("mAltura");
        var tdPeso = document.getElementById("mPeso");
        var tdVelocidade = document.getElementById("mVelocidade");
        var tdIdademMax = document.getElementById("mIdademMax");

        //Refencias da lista-spans
        salto = document.getElementById("alto");
        spesado = document.getElementById("pesado");
        sveloz = document.getElementById("veloz");
        slongevo = document.getElementById("longevo");


        //Criando nova linha na tabela
        novoTr = document.createElement("tr");
        novoTdNome = document.createElement("td");
        novoTdAltura = document.createElement("td");
        novoTdPeso = document.createElement("td");
        novoTdVelocidade = document.createElement("td");
        novoTdIdademMax = document.createElement("td");

        //Add valores nos tds
        novoTdNome.innerText = nome;
        novoTdAltura.innerText = altura;
        novoTdPeso.innerText = peso;
        novoTdVelocidade.innerText = velocidade; 
        novoTdIdademMax.innerText = idadeMax;

        //Add nova linha na tabela
        novoTr.appendChild(novoTdNome);
        novoTr.appendChild(novoTdAltura);
        novoTr.appendChild(novoTdPeso);
        novoTr.appendChild(novoTdVelocidade);
        novoTr.appendChild(novoTdIdademMax);
        tbody.appendChild(novoTr);

        //calculo da media e ranking
        vetorDeDados.push({nome:nome,altura:altura,peso:peso,velocidade:velocidade,idadeMax:idadeMax});
        var alto=0,pesado=0,veloz=0,longevo=0;
        for (var i = 0; i < vetorDeDados.length; i++) {
            mAltura += vetorDeDados[i].altura;
            mPeso += vetorDeDados[i].peso;
            mVelocidade += vetorDeDados[i].velocidade;
            mIdademMax += vetorDeDados[i].idadeMax;

            if(vetorDeDados[i].altura>vetorDeDados[alto].altura) alto=i;
            if(vetorDeDados[i].peso>vetorDeDados[pesado].peso) pesado=i;
            if(vetorDeDados[i].velocidade>vetorDeDados[veloz].velocidade) veloz=i;
            if(vetorDeDados[i].idadeMax>vetorDeDados[longevo].idadeMax) longevo=i;
        }

        //Definição da media
        tdAltura.innerText = mAltura/vetorDeDados.length;
        tdPeso.innerText = mPeso/vetorDeDados.length;
        tdVelocidade.innerText = mVelocidade/vetorDeDados.length;
        tdIdademMax.innerText = mIdademMax/vetorDeDados.length;

        //Definição do Ranking
        salto.innerText = vetorDeDados[alto].nome;
        spesado.innerText = vetorDeDados[pesado].nome;
        sveloz.innerText = vetorDeDados[veloz].nome;
        slongevo.innerText = vetorDeDados[longevo].nome;

        
        //--------calculo da media e ranking
    }

</script>

</html>